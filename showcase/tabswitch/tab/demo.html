<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>tab-手动+自动切换优化</title>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
<div id="notice" class="notice">
	<div id="notice-tit" class="notice-tit">
    	<ul>
        	<li class="select">
            <a href="#">公告</a>
            </li>
            <li>
            <a href="#">规则</a>
            </li>
            <li>
            <a href="#">论坛</a>
            </li>
            <li>
            <a href="#">安全</a>
            </li>
            <li>
            <a href="#">公益</a>
            </li>
        </ul>
    </div><!--notice-tit-->
	<div id="notice-con" class="notice-con">
    	<div class="mod" style="display:block">
        <ul>
        	<li>
            	<a href="#">张勇：要玩快乐足球</a>
            </li>
            <li>
            	<a href="#">张勇：要玩快乐足球</a>
            </li>
            <li>
            	<a href="#">张勇：要玩快乐足球</a>
            </li>
            <li>
            	<a href="#">张勇：要玩快乐足球</a>
            </li>
        </ul>
        </div><!--mod-->
        <div class="mod" style="display:none;">
        <ul>
        	<li>
            	<a href="#">阿里2000万驰援灾区！</a>
            </li>
            <li>
            	<a href="#">阿里2000万驰援灾区！</a>
            </li>
            <li>
            	<a href="#">阿里2000万驰援灾区！</a>
            </li>
            <li>
            	<a href="#">阿里2000万驰援灾区！</a>
            </li>
        </ul>
        </div><!--mod-->
        <div class="mod" style="display:none">
        <ul>
        	<li>
            	<a href="#">旅游宝让你边玩边赚钱</a>
            </li>
            <li>
            	<a href="#">旅游宝让你边玩边赚钱</a>
            </li>
            <li>
            	<a href="#">旅游宝让你边玩边赚钱</a>
            </li>
            <li>
            	<a href="#">旅游宝让你边玩边赚钱</a>
            </li>
        </ul>
        </div><!--mod-->
        <div class="mod" style="display:none">
        <ul>
        	<li>
            	<a href="#">多行跟进阿里信用贷款</a>
            </li>
            <li>
                    <a href="#">多行跟进阿里信用贷款</a>
                </li>
            <li>
                    <a href="#">多行跟进阿里信用贷款</a>
                </li>
            <li>
                    <a href="#">多行跟进阿里信用贷款</a>
                </li>
        </ul>
        </div><!--mod-->
        <div class="mod" style="display:none;">
        <ul>
        	<li>
            	<a href="#">爱心品牌联合征集</a>
            </li>
            <li>
            	<a href="#">爱心品牌联合征集</a>
            </li>
            <li>
            	<a href="#">爱心品牌联合征集</a>
            </li>
            <li>
            	<a href="#">爱心品牌联合征集</a>
            </li> 
        </ul>
        </div><!--mod-->
    </div><!--notice-cont-->
</div><!--notice-->
<script type="text/javascript">
window.onload=function(){
			var index=0;
			var timer=null;
	//获取页签和要切换的内容
	var lis=document.getElementById('notice-tit').getElementsByTagName('li');
	var divs=document.getElementById('notice-con').getElementsByTagName('div');
       //遍历每一个页签给他们绑定鼠标滑过事件
	for(j=0;j<lis.length;j++){
		lis[j].id=j;
		lis[j].onmouseover=function(){
			clearInterval(timer);
			//让定时器停止之后，先清除所有样式和显示，在显示当前鼠标滑过的样式和显示
		changeoption(this.id)
			}
		//添加鼠标移动继续执行自动播放
		lis[j].onmouseout=function(){
			timer=setInterval(autoplay,2000)}
		
		}   
	   
	//添加定时器改变当前高亮索引
	timer=setInterval(
		autoplay,2000)
		
		
		
		function changeoption(curindex){
			//清除当前页签中的class与block
		for(i=0;i<lis.length;i++){
			lis[i].className='';
			divs[i].style.display='none';			
			}
		//改变高亮索引
		lis[curindex].className='select';
		divs[curindex].style.display='block';
							}	
		function autoplay(){
			index++;
		if(index>=lis.length){
			index=0;}
		changeoption(index)
			}			
						
						  }



</script>



</body>
</html>
